# KeystoneSDK

A swift package of KeystoneSDK. It's based on `KeystoneSDK` which is generated by [keystone-sdk-rust](https://github.com/KeystoneHQ/keystone-sdk-rust)

## Installation

### Swift Package Manager

The [Swift Package Manager](https://swift.org/package-manager/) is a tool for automating the distribution of Swift code and is integrated into the `swift` compiler.  
To add `KeystoneSDK` as a dependency to your Xcode project, select File > Add Packages and enter URL: `https://github.com/KeystoneHQ/keystone-sdk-ios.git`.

## How to update the binary library `URRegistryFFI`

1. Install Rust
https://www.rust-lang.org/learn/get-started

2. Clone the rust repo.

```shell
git clone https://github.com/KeystoneHQ/keystone-sdk-rust
cd keystone-sdk-rust
```

3. Install ios targets

```shell
rustup target add aarch64-apple-ios x86_64-apple-ios aarch64-apple-ios-sim
```

4. Generate XCFramework

Make sure the header file `keystone-sdk-rust/include/URRegistryFFI/lib_ur_registry_ffi.h` is up to date.

```shell
make generate_xcframework
```

5. Replace the `URRegistryFFI.xcframework` in `URRegistry/Library` from the `target` build folder
